syntax = "proto3";

package inventory;

service InventoryService {
  rpc GetStock   (GetStockRequest)   returns (GetStockResponse);
  rpc ReserveStock (ReserveStockRequest) returns (ReserveStockResponse);
  rpc ReleaseStock (ReleaseStockRequest) returns (ReleaseStockResponse);
  rpc AdjustStock  (AdjustStockRequest)  returns (AdjustStockResponse);
}

message GetStockRequest { string sku = 1; }
message GetStockResponse { string sku = 1; int32 available = 2; }

message ReserveStockRequest { string sku = 1; int32 qty = 2; string reservationId = 3; }
message ReserveStockResponse { string sku = 1; int32 reserved = 2; int32 available = 3; }

message ReleaseStockRequest { string reservationId = 1; }
message ReleaseStockResponse { string reservationId = 1; bool released = 2; }

message AdjustStockRequest { string sku = 1; int32 delta = 2; string reason = 3; }
message AdjustStockResponse { string sku = 1; int32 available = 2; }
